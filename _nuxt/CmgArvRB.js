var b=Object.defineProperty;var _=(r,h,n)=>h in r?b(r,h,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[h]=n;var i=(r,h,n)=>_(r,typeof h!="symbol"?h+"":h,n);import{m as B,n as C,p as M,o as w,c as y,a as g,_ as E,b as v}from"./BZNu1wUK.js";const D=B({__name:"Banner",setup(r){const h=Math.PI*2,n=(c,t)=>Math.random()*(t-c+1)+c|0,u=()=>new Date().getTime();class m{constructor(){i(this,"fireworks");i(this,"counter");i(this,"width");i(this,"height");i(this,"spawnA");i(this,"spawnB");i(this,"spawnC");i(this,"spawnD");this.resize(),this.fireworks=[],this.counter=0}resize(){const t=document.getElementById("birthday");this.width=t.width=window.innerWidth;const e=this.width/2|0;this.spawnA=e-e/4|0,this.spawnB=e+e/4|0,this.height=t.height=window.innerHeight,this.spawnC=this.height*.1,this.spawnD=this.height*.5}onClick(t){const e=(t instanceof MouseEvent?t.clientX:t.touches[0].pageX)||0,s=(t instanceof MouseEvent?t.clientY:t.touches[0].pageY)||0,o=n(3,5);for(let d=0;d<o;d++)this.fireworks.push(new p(n(this.spawnA,this.spawnB),this.height,e,s,n(0,260),n(30,110)));this.counter=-1}update(t){const s=document.getElementById("birthday").getContext("2d");s.globalCompositeOperation="hard-light",s.fillStyle=`rgba(20,20,20,${7*t})`,s.fillRect(0,0,this.width,this.height),s.globalCompositeOperation="lighter";for(let o of this.fireworks)o.update(t);this.counter+=t*3,this.counter>=1&&(this.fireworks.push(new p(n(this.spawnA,this.spawnB),this.height,n(0,this.width),n(this.spawnC,this.spawnD),n(0,360),n(30,110))),this.counter=0),this.fireworks.length>1e3&&(this.fireworks=this.fireworks.filter(o=>!o.dead))}}class p{constructor(t,e,s,o,d,a){i(this,"dead");i(this,"offsprings");i(this,"x");i(this,"y");i(this,"targetX");i(this,"targetY");i(this,"shade");i(this,"history");i(this,"madeChilds");this.dead=!1,this.offsprings=a,this.x=t,this.y=e,this.targetX=s,this.targetY=o,this.shade=d,this.history=[],this.madeChilds=void 0}update(t){const s=document.getElementById("birthday").getContext("2d");if(this.dead)return;const o=this.targetX-this.x,d=this.targetY-this.y;if(Math.abs(o)>3||Math.abs(d)>3)this.x+=o*2*t,this.y+=d*2*t,this.history.push({x:this.x,y:this.y}),this.history.length>20&&this.history.shift();else{if(this.offsprings&&!this.madeChilds){const a=this.offsprings/2;for(let l=0;l<a;l++){const x=this.x+this.offsprings*Math.cos(h*l/a)|0,k=this.y+this.offsprings*Math.sin(h*l/a)|0;f.fireworks.push(new p(this.x,this.y,x,k,this.shade,0))}}this.madeChilds=!0,this.history.shift()}if(this.history.length===0)this.dead=!0;else if(this.offsprings)for(let a=0;a<this.history.length;a++){const l=this.history[a];s.beginPath(),s.fillStyle=`hsl(${this.shade},100%,${a}%)`,s.arc(l.x,l.y,1,0,h,!1),s.fill()}else s.beginPath(),s.fillStyle=`hsl(${this.shade},100%,50%)`,s.arc(this.x,this.y,1,0,h,!1),s.fill()}}let f;return C(()=>{document.getElementById("birthday");let c=u();f=new m;const t=()=>{requestAnimationFrame(t);const e=u(),s=(e-c)/1e3;c=e,f.update(s)};window.onresize=()=>f.resize(),document.onclick=e=>f.onClick(e),document.ontouchstart=e=>f.onClick(e),t()}),M(()=>{window.onresize=null,document.onclick=null,document.ontouchstart=null}),(c,t)=>(w(),y("div",null,t[0]||(t[0]=[g("canvas",{id:"birthday"},null,-1),g("h1",{class:"heading"},"Happy Birthday!",-1)])))}}),I={};function X(r,h){const n=D;return w(),y("div",null,[v(n)])}const A=E(I,[["render",X]]);export{A as default};
